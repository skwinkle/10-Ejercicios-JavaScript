<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Comisiones</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100..900&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="header__logo-container">
            <img class="header__logo" src="imagenes/autism.jpg">
        </div>
        <nav class="header__nav">
            <ul class="header__nav-list">
                <li class="header__nav-item"><a href="index.html">Proyectos</a></li>
            </ul>
        </nav>
    </header>
    <main class="main__ejercicio1">
        <form class="form__ejercicio1" onsubmit="return calcularComisiones()">
            <h1>Calculadora de Comisiones de Ventas</h1>
            <label> Sueldo base:
                <input type="text" id="sueldoBase" class="form__ejercicio1--input" required oninput="validarInput(this)">
            </label>
            <label> Venta 1:
                <input type="text" id="venta1" class="form__ejercicio1--input" required oninput="validarInput(this)">
            </label>
            <label> Venta 2:
                <input type="text" id="venta2" class="form__ejercicio1--input" required oninput="validarInput(this)">
            </label>
            <label> Venta 3:
                <input type="text" id="venta3" class="form__ejercicio1--input" required oninput="validarInput(this)">
            </label>
            <input type="submit" value="Calcular" class="card__button">
            <p id="muestraComisiones"></p>
        </form>
    </main>
    
    <script>
        function validarInput(input) {
            // Reemplaza cualquier carácter que no sea un número o un punto
            let value = input.value.replace(/[^0-9.]/g, '');
    
            // Permitir solo un punto decimal
            const parts = value.split('.');
            if (parts.length > 2) {
                value = parts[0] + '.' + parts.slice(1).join('');
            }
    
            input.value = value;
        }
    
        function calcularComisiones() {
            const sueldoBase = parseFloat(document.getElementById('sueldoBase').value);
            const venta1 = parseFloat(document.getElementById('venta1').value);
            const venta2 = parseFloat(document.getElementById('venta2').value);
            const venta3 = parseFloat(document.getElementById('venta3').value);
            const comisionPorcentaje = 0.10; // 10%
            
            // Validar que las entradas sean números válidos
            if (!isNaN(sueldoBase) && sueldoBase >= 0 &&
                !isNaN(venta1) && venta1 >= 0 &&
                !isNaN(venta2) && venta2 >= 0 &&
                !isNaN(venta3) && venta3 >= 0) {
                
                // Calcular comisiones y total
                const comisionTotal = (venta1 + venta2 + venta3) * comisionPorcentaje;
                const total = sueldoBase + comisionTotal;

                document.getElementById('muestraComisiones').textContent = 
                    `Comisiones totales: $${comisionTotal.toFixed(2)}\nTotal a recibir en el mes: $${total.toFixed(2)}`;
                return false; // Para evitar que el formulario se envíe
            } else {
                document.getElementById('muestraComisiones').textContent = 'Por favor, ingrese números válidos.';
                return false; // Para evitar que el formulario se envíe
            }
        }
    </script>
    
    <footer class="footer">
        <p class="footer__name">Fernández Rojas Axel Giovanni</p>
        <h2 class="footer__Title">Todos los Derechos Reservados</h2>
    </footer>
</body>
</html>